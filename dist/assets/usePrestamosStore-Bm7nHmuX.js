import{l as M,k as B,c as d,m as A,_ as N,E as C,F as j,n as c,G as F,j as x,s as G,p as P,t as L,H as _,J as T,K as p,M as $,N as I,A as D}from"./index--atX_XUv.js";import{d as H,u as S,c as U,g as z,a as W}from"./prestamosApi-D9fRTWkx.js";const w=M("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function J(a){return B("MuiMenuItem",a)}const l=M("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),K=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],q=(a,r)=>{const{ownerState:t}=a;return[r.root,t.dense&&r.dense,t.divider&&r.divider,!t.disableGutters&&r.gutters]},Q=a=>{const{disabled:r,dense:t,divider:e,disableGutters:s,selected:o,classes:i}=a,n=L({root:["root",t&&"dense",r&&"disabled",!s&&"gutters",e&&"divider",o&&"selected"]},J,i);return c({},i,n)},X=G(_,{shouldForwardProp:a=>T(a)||a==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:q})(({theme:a,ownerState:r})=>c({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:`1px solid ${(a.vars||a).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${l.selected}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:p(a.palette.primary.main,a.palette.action.selectedOpacity),[`&.${l.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:p(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},[`&.${l.selected}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:p(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?`rgba(${a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.selectedOpacity})`:p(a.palette.primary.main,a.palette.action.selectedOpacity)}},[`&.${l.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`&.${l.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity},[`& + .${w.root}`]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},[`& + .${w.inset}`]:{marginLeft:52},[`& .${I.root}`]:{marginTop:0,marginBottom:0},[`& .${I.inset}`]:{paddingLeft:36},[`& .${$.root}`]:{minWidth:36}},!r.dense&&{[a.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&c({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,{[`& .${$.root} svg`]:{fontSize:"1.25rem"}}))),aa=d.forwardRef(function(r,t){const e=A({props:r,name:"MuiMenuItem"}),{autoFocus:s=!1,component:o="li",dense:i=!1,divider:f=!1,disableGutters:n=!1,focusVisibleClassName:O,role:k="menuitem",tabIndex:m,className:R}=e,E=N(e,K),v=d.useContext(C),b=d.useMemo(()=>({dense:i||v.dense||!1,disableGutters:n}),[v.dense,i,n]),u=d.useRef(null);j(()=>{s&&u.current&&u.current.focus()},[s]);const h=c({},e,{dense:b.dense,divider:f,disableGutters:n}),g=Q(e),V=F(u,t);let y;return e.disabled||(y=m!==void 0?m:-1),x.jsx(C.Provider,{value:b,children:x.jsx(X,c({ref:V,role:k,tabIndex:y,component:o,focusVisibleClassName:P(g.focusVisible,O),className:P(g.root,R)},E,{ownerState:h,classes:g}))})}),ea=D((a,r)=>({items:[],prestamosPorPrestatario:[],cuotasPorPrestatario:[],loading:!1,error:void 0,async fetchAll(){a({loading:!0,error:void 0});try{const t=await W();a({items:t,loading:!1})}catch(t){a({error:t.message??"Error al cargar préstamos",loading:!1})}},async fetchByPrestatario(t){a({loading:!0,error:void 0});try{const e=await z(t);a({prestamosPorPrestatario:e.prestamos,cuotasPorPrestatario:e.cuotas,loading:!1})}catch(e){a({error:e.message??"Error al cargar préstamos del prestatario",loading:!1})}},async create(t){a({loading:!0,error:void 0});try{const e=await U(t);await r().fetchAll();const s=r().items.find(o=>o.id===e.id_prestamo)??null;return a({loading:!1}),s??null}catch(e){return a({error:e.message??"Error al crear préstamo",loading:!1}),null}},async update(t,e){a({loading:!0,error:void 0});try{const s=await S(t,e);return await r().fetchAll(),a({loading:!1}),s}catch(s){return a({error:s.message??"Error al actualizar préstamo",loading:!1}),null}},async remove(t){a({loading:!0,error:void 0});try{await H(t),await r().fetchAll(),a({loading:!1})}catch(e){a({error:e.message??"Error al cancelar préstamo",loading:!1})}}}));export{aa as M,ea as u};
