import{z as a}from"./index--atX_XUv.js";function e(t){return{id:t.ID_PRESTAMO??t.id_prestamo,idSolicitudPrestamo:t.ID_SOLICITUD_PRESTAMO??t.id_solicitud_prestamo,idPrestatario:t.ID_PRESTATARIO??t.id_prestatario,totalPrestado:t.TOTAL_PRESTADO??t.total_prestado,nroCuotas:t.NRO_CUOTAS??t.nro_cuotas,interes:t.INTERES??t.interes,fechaEmision:t.FECHA_EMISION??t.fecha_emision,fechaVencimiento:t.FECHA_VENCIMIENTO??t.fecha_vencimiento??null,estado:t.ESTADO??t.estado}}function s(t){return(t||[]).map(e)}function p(t){return{idPrestamo:t.ID_PRESTAMO??t.id_prestamo,nroCuota:t.NRO_CUOTA??t.nro_cuota,valorCuota:t.VALOR_CUOTA??t.valor_cuota,saldo:t.SALDO??t.saldo,estado:t.ESTADO??t.estado,fechaVencimiento:t.FECHA_VENCIMIENTO??t.fecha_vencimiento}}function m(t){return(t||[]).map(p)}async function u(){const t=await a.get("/api/prestamos");if(!t.data.ok)throw new Error(t.data.error||"Error al listar préstamos");return s(t.data.result)}async function d(t){const o=await a.get(`/api/prestamos/${t}`);if(!o.data.ok)throw new Error(o.data.error||"Error al obtener préstamo");return e(o.data.result)}async function E(t){const o=await a.get(`/api/prestamos/prestatario/${t}`);if(!o.data.ok)throw new Error(o.data.error||"Error al obtener préstamos del prestatario");const{prestatario:r,prestamos:n,cuotas:i}=o.data.result;return{prestatario:r,prestamos:s(n),cuotas:m(i)}}async function l(t){const o=await a.post("/api/prestamos",t);if(!o.data.ok)throw new Error(o.data.error||"Error al crear préstamo");return o.data.result}async function _(t,o){const r=await a.put(`/api/prestamos/${t}`,o);if(!r.data.ok)throw new Error(r.data.error||"Error al actualizar préstamo");return e(r.data.result)}async function f(t){const o=await a.delete(`/api/prestamos/${t}`);if(!o.data.ok)throw new Error(o.data.error||"Error al cancelar préstamo")}export{u as a,d as b,l as c,f as d,E as g,_ as u};
